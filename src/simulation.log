SERVER: Initializing Train Movement Simulation
SERVER: Shared memory initialized
SERVER: Parsed 4 trains
SERVER: Parsed 5 intersections
SERVER: Initialized mutex for IntersectionA (capacity=1)
SERVER: Initialized semaphore for IntersectionB (capacity=2)
SERVER: Initialized mutex for IntersectionC (capacity=1)
SERVER: Initialized semaphore for IntersectionD (capacity=3)
SERVER: Initialized mutex for IntersectionE (capacity=1)
SERVER: Message queue ready (ID: 0)
SERVER: Starting train simulator
SERVER: Message queue ready (ID: 0)
SERVER: Parsed 4 trains
TRAIN2: Sent ACQUIRE request for IntersectionA
TRAIN1: Sent ACQUIRE request for IntersectionA
SERVER: Received: Train 2 requests "ACQUIRE" on IntersectionA
SERVER: GRANTED IntersectionA to Train 2
SERVER: Sent response: Train 2 "GRANT" on IntersectionA
SERVER: Received: Train 1 requests "ACQUIRE" on IntersectionA
SERVER: WAITING: IntersectionA full, Train 1 queued
TRAIN1: Received WAIT for IntersectionA
SERVER: Sent response: Train 1 "WAIT" on IntersectionA
TRAIN3: Sent ACQUIRE request for IntersectionA
SERVER: Received: Train 3 requests "ACQUIRE" on IntersectionA
SERVER: WAITING: IntersectionA full, Train 3 queued
SERVER: Sent response: Train 3 "WAIT" on IntersectionA
TRAIN4: Sent ACQUIRE request for IntersectionA
SERVER: Received: Train 4 requests "ACQUIRE" on IntersectionA
SERVER: WAITING: IntersectionA full, Train 4 queued
SERVER: Sent response: Train 4 "WAIT" on IntersectionA
TRAIN2: Received GRANT for IntersectionA
TRAIN4: Received WAIT for IntersectionA
TRAIN3: Received WAIT for IntersectionA
TRAIN2: Sent RELEASE for IntersectionA
SERVER: Received: Train 2 requests "RELEASE" on IntersectionA
SERVER: Granted waiting train 1 for IntersectionA
SERVER: Sent response: Train 1 "GRANT" on IntersectionA
SERVER: Released IntersectionA from Train 2
TRAIN1: Received GRANT for IntersectionA
SERVER: Sent response: Train 2 "OK" on IntersectionA
TRAIN2: Received OK for IntersectionA
TRAIN2: Sent ACQUIRE request for IntersectionB
SERVER: Received: Train 2 requests "ACQUIRE" on IntersectionB
SERVER: GRANTED IntersectionB to Train 2
TRAIN2: Received GRANT for IntersectionB
SERVER: Sent response: Train 2 "GRANT" on IntersectionB
TRAIN1: Sent RELEASE for IntersectionA
SERVER: Received: Train 1 requests "RELEASE" on IntersectionA
SERVER: Granted waiting train 3 for IntersectionA
SERVER: Sent response: Train 3 "GRANT" on IntersectionA
SERVER: Released IntersectionA from Train 1
SERVER: Sent response: Train 1 "OK" on IntersectionA
TRAIN1: Received OK for IntersectionA
TRAIN1: Sent ACQUIRE request for IntersectionB
TRAIN3: Received GRANT for IntersectionA
SERVER: Received: Train 1 requests "ACQUIRE" on IntersectionB
SERVER: GRANTED IntersectionB to Train 1
SERVER: Sent response: Train 1 "GRANT" on IntersectionB
TRAIN2: Sent RELEASE for IntersectionB
SERVER: Received: Train 2 requests "RELEASE" on IntersectionB
TRAIN1: Received GRANT for IntersectionB
SERVER: Released IntersectionB from Train 2
SERVER: Sent response: Train 2 "OK" on IntersectionB
TRAIN2: Received OK for IntersectionB
TRAIN2: Sent ACQUIRE request for IntersectionC
SERVER: Received: Train 2 requests "ACQUIRE" on IntersectionC
SERVER: GRANTED IntersectionC to Train 2
SERVER: Sent response: Train 2 "GRANT" on IntersectionC
TRAIN2: Received GRANT for IntersectionC
TRAIN3: Sent RELEASE for IntersectionA
SERVER: Received: Train 3 requests "RELEASE" on IntersectionA
SERVER: Granted waiting train 4 for IntersectionA
SERVER: Sent response: Train 4 "GRANT" on IntersectionA
SERVER: Released IntersectionA from Train 3
SERVER: Sent response: Train 3 "OK" on IntersectionA
TRAIN3: Received OK for IntersectionA
TRAIN3: Sent ACQUIRE request for IntersectionB
SERVER: Received: Train 3 requests "ACQUIRE" on IntersectionB
SERVER: GRANTED IntersectionB to Train 3
SERVER: Sent response: Train 3 "GRANT" on IntersectionB
TRAIN3: Received GRANT for IntersectionB
TRAIN4: Received GRANT for IntersectionA
TRAIN1: Sent RELEASE for IntersectionB
TRAIN2: Sent RELEASE for IntersectionC
SERVER: Received: Train 1 requests "RELEASE" on IntersectionB
SERVER: Released IntersectionB from Train 1
SERVER: Sent response: Train 1 "OK" on IntersectionB
SERVER: Received: Train 2 requests "RELEASE" on IntersectionC
SERVER: Released IntersectionC from Train 2
SERVER: Sent response: Train 2 "OK" on IntersectionC
TRAIN1: Received OK for IntersectionB
TRAIN1: Sent ACQUIRE request for IntersectionC
SERVER: Received: Train 1 requests "ACQUIRE" on IntersectionC
SERVER: GRANTED IntersectionC to Train 1
SERVER: Sent response: Train 1 "GRANT" on IntersectionC
TRAIN1: Received GRANT for IntersectionC
TRAIN2: Received OK for IntersectionC
TRAIN4: Sent RELEASE for IntersectionA
SERVER: Received: Train 4 requests "RELEASE" on IntersectionA
SERVER: Released IntersectionA from Train 4
SERVER: Sent response: Train 4 "OK" on IntersectionA
TRAIN4: Received OK for IntersectionA
TRAIN3: Sent RELEASE for IntersectionB
SERVER: Received: Train 3 requests "RELEASE" on IntersectionB
SERVER: Released IntersectionB from Train 3
TRAIN4: Sent ACQUIRE request for IntersectionB
SERVER: Sent response: Train 3 "OK" on IntersectionB
TRAIN3: Received OK for IntersectionB
SERVER: Received: Train 4 requests "ACQUIRE" on IntersectionB
TRAIN3: Sent ACQUIRE request for IntersectionC
SERVER: GRANTED IntersectionB to Train 4
SERVER: Sent response: Train 4 "GRANT" on IntersectionB
TRAIN4: Received GRANT for IntersectionB
SERVER: Received: Train 3 requests "ACQUIRE" on IntersectionC
SERVER: WAITING: IntersectionC full, Train 3 queued
SERVER: Sent response: Train 3 "WAIT" on IntersectionC
TRAIN3: Received WAIT for IntersectionC
TRAIN1: Sent RELEASE for IntersectionC
SERVER: Received: Train 1 requests "RELEASE" on IntersectionC
SERVER: Granted waiting train 3 for IntersectionC
SERVER: Sent response: Train 3 "GRANT" on IntersectionC
SERVER: Released IntersectionC from Train 1
TRAIN1: Received OK for IntersectionC
SERVER: Sent response: Train 1 "OK" on IntersectionC
TRAIN3: Received GRANT for IntersectionC
TRAIN4: Sent RELEASE for IntersectionB
SERVER: Received: Train 4 requests "RELEASE" on IntersectionB
SERVER: Released IntersectionB from Train 4
SERVER: Sent response: Train 4 "OK" on IntersectionB
TRAIN4: Received OK for IntersectionB
TRAIN4: Sent ACQUIRE request for IntersectionD
SERVER: Received: Train 4 requests "ACQUIRE" on IntersectionD
SERVER: GRANTED IntersectionD to Train 4
SERVER: Sent response: Train 4 "GRANT" on IntersectionD
TRAIN4: Received GRANT for IntersectionD
TRAIN3: Sent RELEASE for IntersectionC
SERVER: Received: Train 3 requests "RELEASE" on IntersectionC
SERVER: Released IntersectionC from Train 3
SERVER: Sent response: Train 3 "OK" on IntersectionC
TRAIN3: Received OK for IntersectionC
TRAIN4: Sent RELEASE for IntersectionD
SERVER: Received: Train 4 requests "RELEASE" on IntersectionD
SERVER: Released IntersectionD from Train 4
SERVER: Sent response: Train 4 "OK" on IntersectionD
TRAIN4: Received OK for IntersectionD
SERVER: All 4 trains have finished
SERVER: Sent STOP to server
SERVER: Train simulator exiting
SERVER: Received STOP signal. Exiting server loop
SERVER: Message queue removed
SERVER: Shared memory cleaned up
SERVER: SIMULATION COMPLETE. All trains reached destinations.
